
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Adam Mark</title>
  <meta name="author" content="Adam Mark">

  
  <meta name="description" content="If you&#8217;ve never the cache in App Cloud, you&#8217;ll feel like you just
discovered a buried treasure. Aaargh! Here are six ways to use the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.adammark.net/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Adam Mark" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adam Mark</a></h1>
  
    <h2>Web design and development</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.adammark.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/work">My Work</a></li>
  <li><a href="/about">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/14/discovering-the-cache-in-app-cloud/">Discovering the Cache in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-14T17:09:00-04:00" pubdate data-updated="true">Mar 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/blog/app-cloud-treasure.jpg" alt="Aaargh." /></p>

<p>If you&#8217;ve never the cache in <a href="http://appcloud.brightcove.com">App Cloud</a>, you&#8217;ll feel like you just
discovered a buried treasure. <em>Aaargh!</em> Here are six ways to use the
cache in your app:</p>

<h2>1. Save user preferences</h2>

<p>If your app lets users select a display preference—for example, whether to
view items as a list or a grid—save the user&#8217;s selection for next time:</p>

<pre><code>// set the preference
bc.core.cache("USER_DISPLAY_MODE", "grid");

// get the preference, defaulting to "list"
var displayMode = bc.core.cache("USER_DISPLAY_MODE") || "list";
</code></pre>

<h2>2. Save user “favorites”</h2>

<p>You can save entire objects in the cache. For example, an array of news
articles:</p>

<pre><code>// set favorites (an array) in the cache
function setFavorites(favorites) {
    bc.core.cache("favorites", favorites);
}

// get favorites from the cache, or return an empty array
function getFavorites() {
    return bc.core.cache("favorites") || [];
}

// add an article to favorites
function addToFavorites(articleId) {
    var favorites = getFavorites();

    if (!isFavorite(articleId)) {
        favorites.push(getArticle(articleId));
    }

    setFavorites(favorites);
}

// remove an article from favorites
function removeFromFavorites(articleId) {
    var favorites = getFavorites();

    for (var i in favorites) {
        if (favorites[i].articleId === articleId) {
            favorites.splice(i, 1);
            break;
        }
    }

    setFavorites(favorites);
}

// is an article already favorited?
function isFavorite(articleId) {
    var favorites = getFavorites();

    for (var i in favorites) {
        if (favorites[i].articleId === articleId) {
            return true;
        }
    }

    return false;
}
</code></pre>

<h2>3. Save application state</h2>

<p>Save the user some trouble by saving state—for example, the ID of the last
viewed article—and then restoring the UI to that state when the user returns.
You can use &#8220;viewblur&#8221; and &#8220;viewfocus&#8221; events to detect when a user comes and
goes:</p>

<pre><code>// save the last viewed article ID when user exits the view
$(bc).bind("viewblur", function (evt) {
    bc.core.cache("LAST_VIEWED_ARTICLE_ID", articleId);
});

// restore the view if necessary when user re-enters
$(bc).bind("viewfocus", function (evt) {
    var lastId = bc.core.cache("LAST_VIEWED_ARTICLE_ID");

    if (lastId) {
        // do stuff
    }
});
</code></pre>

<h2>4. Save data with a long shelf life</h2>

<p>If you&#8217;re working with data that has a long shelf life—for example, a blog
that gets updated once every week or two—you can pull the data from the cache
instead of hitting the server over and over again:</p>

<pre><code>var one_week = 7 * 24 * 60 * 60 * 1000;
var time_saved = bc.core.cache("BLOG_DATA_LOADED_AT") || 0;
var time_now = new Date().getTime();

if (time_now - time_saved &gt; one_week) {
    // load new data
    bc.core.getData("blog-feed", function (data) {
        // render blog with new data
        renderBlog(data);

        // update the data in cache
        bc.core.cache("blog-data", data);

        // update the timestamp in cache
        bc.core.cache("BLOG_DATA_LOADED_AT", time_now);
    });
}
else {
    // render blog with old data
    renderBlog(bc.core.cache("blog-data"));
}
</code></pre>

<h2>5. Show placeholder data</h2>

<p>While you&#8217;re loading new data, show old data as a placeholder. <em>Anything beats
a blank white screen:</em></p>

<pre><code>var cachedData = bc.core.cache("blog-data") || [];

renderBlog(cachedData);

bc.core.getData("blog-feed", function (data) {
    renderBlog(data);
});
</code></pre>

<h2>6. Run your app in offline mode</h2>

<p>Use the techniques described above to store non-critical data for offline use.
Your users will thank you!</p>

<p>Remember, unlike HTML5 Local Storage, <code>bc.core.cache()</code> takes care of
serializing and deserializing JavaScript objects for you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/02/using-content-analytics-in-app-cloud/">Using Content Analytics in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-02T17:19:00-05:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The latest version of the App Cloud SDK (1.7.4) introduces content-level
analytics for tracking custom events in your template. It&#8217;s a snap to use,
with just two methods:</p>

<pre><code>bc.metrics.startContentSession(contentURI, name)
</code></pre>

<p>The above method initiates a content session—for example, when a user begins
reading a news article. The first argument, <code>contentURI</code>, should be a unique
ID or URI. The second argument, <code>name,</code> should be a human-readable description
(e.g. an article title) for display in App Cloud Studio.</p>

<pre><code>bc.metrics.endContentSession(contentURI)
</code></pre>

<p>The above method ends the content session for the given <code>contentURI</code>. In the
case of tracking article views, you might invoke this method when the user
clicks &#8220;Back.&#8221;</p>

<p>See the <a href="http://support.brightcove.com/en/docs/content-level-analytics">App Cloud docs</a> for a complete rundown.</p>

<p>Two important notes: First, content-level analytics work only in production
mode, meaning you won&#8217;t see data appear in App Cloud Studio until you publish
and deploy an app. Use <code>console.log()</code> to test your code during development.
Second, it&#8217;s your responsibility to pause and unpause content sessions when
the user exits and reenters a view. You can do this by listening for
&#8220;viewblur&#8221; and &#8220;viewfocus&#8221; events.</p>

<p>Content-level analytics appear in the &#8220;Analytics&#8221; section of App Cloud Studio:</p>

<p><img src="/images/blog/app-cloud-content-analytics.png" alt="Screen shot" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/16/working-with-arrays-in-app-cloud/">Working With Arrays in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-16T16:46:00-05:00" pubdate data-updated="true">Feb 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://appcloud.brightcove.com">App Cloud</a> apps are voracious consumers of JavaScript arrays, which carry
all kinds of data from server to client: news articles, photo gallery
metadata, a list of places near a user&#8217;s location, and even tweets. You&#8217;re
probably familiar with the two basic techniques for iterating over arrays:</p>

<pre><code>for (var i = 0; i &lt; stuff.length; i++) {
    ...
}
</code></pre>

<p>and</p>

<pre><code>for (var i in stuff) {
    ...
}
</code></pre>

<p>Now comes another:</p>

<pre><code>stuff.forEach(function (value, index, array) {
    ...
});
</code></pre>

<p>Yeah, you read that right. And it doesn&#8217;t use jQuery or any other syntactic
sugar. Here&#8217;s a fuller example:</p>

<pre><code>var fruits = ["apple", "banana", "cherry"];

fruits.forEach(function (value, index, array) {
    console.log(value, index, arr);
});
</code></pre>

<p>Run the above code in your browser to see the output—then feel free to use
this technique in your App Cloud app.</p>

<p>There are some other native JavaScript methods that might look new to you:
<code>every()</code>, <code>filter()</code>, <code>map()</code> and <code>some()</code>. Read all about them in the
<a href="https://developer.mozilla.org/en/New_in_JavaScript_1.6">MDN docs</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/10/creating-a-reading-list-in-app-cloud/">Creating a Reading List in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-10T17:03:00-05:00" pubdate data-updated="true">Feb 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The function <code>bc.core.cache()</code> is great for all kinds of things: saving user
preferences, saving application state, or saving &#8220;favorites,&#8221; as in a reading
list.</p>

<p>Here are some functions for maintaining a list of &#8220;favorites&#8221; in the cache. In
this case, the favorites are news articles selected by the user. Each article
is represented by a JavaScript object with a unique ID:</p>

<pre><code>// get the favorites from cache, or return an empty array
function getFavorites() {
    return bc.core.cache("favorites") || [];
}

// overwrite the favorites in cache
function setFavorites(favorites) {
    bc.core.cache("favorites", favorites);
}

// determine if an article is a favorite (by article ID)
function isFavorite(articleId) {
    var favorites = getFavorites();

    for (var i in favorites) {
        if (favorites[i].articleId === articleId) {
            return true;
        }
    }

    return false;
}

// save an article as a favorite (by article ID)
function addToFavorites(articleId) {
    var favorites = getFavorites();

    if (!isFavorite(articleId)) {
        favorites.push(getArticle(articleId));
    }

    setFavorites(favorites);
}

// remove an article from favorites (by article ID)
function removeFromFavorites(articleId) {
    var favorites = getFavorites();

    for (var i in favorites) {
        if (favorites[i].articleId === articleId) {
            favorites.splice(i, 1);
            break;
        }
    }

    setFavorites(favorites);
}
</code></pre>

<p>To see this in action, check out the &#8220;reading list&#8221; demo in the
<a href="https://github.com/BrightcoveOS/App-Cloud-Demos">App Cloud Demos</a> repository on Brightcove Open Source.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/10/working-with-the-dom-in-app-cloud/">Working With the DOM in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-10T16:09:00-05:00" pubdate data-updated="true">Feb 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Apps are full of lists—articles, videos, events, and so on—and these lists are
often created dynamically with JavaScript. Say you&#8217;re creating a list of news
articles. Your HTML might begin like this:</p>

<pre><code>&lt;ul id="articles"&gt;

&lt;/ul&gt;
</code></pre>

<p>How should you fill the empty <code>&lt;ul&gt;</code>with content? There are two basic
approaches:</p>

<h3>The BAD way</h3>

<pre><code>var elem = document.getElementById("articles");

for (var i = 0; i &lt; data.length; i++) {
    elem.innerHTML += "&lt;li&gt;" + data[i].title + "&lt;/li&gt;";
}
</code></pre>

<h3>The GOOD way</h3>

<pre><code>var elem = document.getElementById("articles");
var str = "";

for (var i = 0; i &lt; data.length; i++) {
    str += "&lt;li&gt;" + data[i].title + "&lt;/li&gt;";
}

elem.innerHTML = str;
</code></pre>

<p>What&#8217;s the difference? The <em>bad</em> technique modifies the DOM over and over
again, causing the web view to repaint and reflow the document many times.
What a drag!</p>

<p>The <em>good</em> technique builds up a string in memory, then injects it into the
DOM once and only once. On mobile devices, this sort of optimization is
essential to creating speedy apps.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/31/app-cloud-content-feeds-getting-to-green/">App Cloud Content Feeds: Getting to Green</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-31T17:46:00-05:00" pubdate data-updated="true">Jan 31<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just smashed my personal content feed optimization record in <a href="http://appcloud.brightcove.com">App Cloud</a>.
The <a href="https://gdata.youtube.com/feeds/api/playlists/92E2F27744E3DC5F?v=2">original feed</a>, a YouTube playlist, clocked in at 176KB. <em>Whoa.</em></p>

<p>So how’d I do it? First, I limited the number of entries to 20 (the original
feed had 25). Then I eliminated all the fields I didn&#8217;t need, leaving only
9 or 10.</p>

<p><img src="/images/blog/app-cloud-optimization.png" alt="Screen shot" /></p>

<p>The result: 20KB. <em>A nearly 90% reduction!</em> As soon as I tamed this bad boy,
my app sped up noticeably. Not only does the payload come down faster, the app
can process it faster.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/31/caching-data-feeds-in-app-cloud/">Caching Data Feeds in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-31T16:17:00-05:00" pubdate data-updated="true">Jan 31<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Caching data with <code>bc.core.cache()</code> will improve the performance and
&#8220;stickiness&#8221; of your app. Here are three reasons to do it:</p>

<h2>Speed up your app</h2>

<p>Seconds matter, especially in mobile phone apps. While you&#8217;re waiting for new
data to load from the server, you can display cached data. Often, the data
will be the same. In any case, you&#8217;re giving the user something to process
instead of just a spinning wheel.</p>

<h2>Save bandwidth</h2>

<p>Bandwidth isn&#8217;t free. It costs time and money—especially for users without
unlimited data plans. Lend a hand and don&#8217;t load data more frequently than is
absolutely necessary. If the data is relatively permanent, load it once and
cache it for a length of time (a day, a week, or more) before requesting it
again. You can use timestamps (in the cache!) for this purpose. Let&#8217;s say
you&#8217;re pulling down a list of instructional videos that rarely changes:</p>

<pre><code>var loaded_at = bc.core.cache("video_feed_loaded_at") || 0; // defaults to 0
var time_now = new Date().getTime();
var interval = 1000 * 60 * 60 * 24 * 3; // 3 days

// if the cached data is older than 3 days
if (time_now - loaded_at &gt; interval) {
    // load new data from server and overwrite the cached data
    bc.core.getData("videos",
        function (data) {
            bc.core.cache("video_feed", data);
            bc.core.cache("video_feed_loaded_at", new Date().getTime());
            displayVideos();
        },
        function (error) {
            // oops
        }
    );
}
// else show cached data
else {
    displayVideos();
}

function displayVideos() {
    var feed = bc.core.cache("video_feed");
    // do stuff
}
</code></pre>

<p>Above, we&#8217;re loading new data only if the cached data is empty (i.e. it has
never been loaded) or if the cached data is more than three days old.</p>

<p>Note, you can always provide a &#8220;refresh&#8221; button for users to update data on
their own. And sometimes it&#8217;s a good idea to display a &#8220;last updated&#8221; date
alongside the results.</p>

<h2>Save user preferences and other metadata</h2>

<p>The cache is a great way to store preferences and other values that are
specific to a particular user on a particular device. For example, you can
save the user&#8217;s preferred display mode:</p>

<pre><code>bc.core.cache("user_pref_display_mode", "grid");
</code></pre>

<p>Or, you can store a list of recently viewed articles, or favorites, by ID. I
wrote some helper functions for this purpose:</p>

<pre><code>// cache a "favorite" value in an array with the given key
// e.g. saveFavorite("fruits", "apple")
function saveFavorite(key, val) {
    var favorites = bc.core.cache(key) || [];

    if (favorites.indexOf(val) === -1) {
        favorites.push(val);
    }

    bc.core.cache(key, favorites);
};

// delete a "favorite" value from a cached array with the given key
// e.g. deleteFavorite("fruits", "apple")
function deleteFavorite(key, val) {
    var favorites = bc.core.cache(key) || [];
    var idx = favorites.indexOf(val);

    if (idx &gt; -1) {
        favorites.splice(idx, 1);
        bc.core.cache(key, favorites);
    }
};

// determine if a value is contained in a list of favorites
// e.g. isFavorite("fruits", "apple")
function isFavorite(key, val) {
    var favorites = bc.core.cache(key) || [];

    return favorites.indexOf(val) &gt; -1;
};
</code></pre>

<p>The function <code>bc.core.cache()</code> is actually a wrapper for
<a href="http://coding.smashingmagazine.com/2010/10/11/local-storage-and-how-to-use-it/">Local Storage</a>—sometimes called &#8220;cookies on steroids.&#8221; As you&#8217;ve seen,
it&#8217;s a simple yet invaluable way to add state to your applications.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/26/understanding-tap-events-in-app-cloud/">Understanding Tap Events in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-26T16:23:00-05:00" pubdate data-updated="true">Jan 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Remember doing stuff like this?</p>

<pre><code>&lt;div id="hello" onclick="alert('hello!')"&gt;Hello&lt;/div&gt;
</code></pre>

<p>Or this?</p>

<pre><code>document.getElementById("hello").onclick = function (evt) {
    alert("hello!");
});
</code></pre>

<p>Or this?</p>

<pre><code>document.getElementById("hello").addEventListener("click", function (evt) {
    alert("hello!");
});
</code></pre>

<p>Or this, with jQuery?</p>

<pre><code>$("#hello").click(function () {
    alert("hello!");
});
</code></pre>

<p>All four techniques accomplish the same goal. But on phones and tablets,
there&#8217;s no such thing as a &#8220;click.&#8221; In fact, there&#8217;s no such thing as a &#8220;tap.&#8221;
In <a href="http://appcloud.brightcove.com">App Cloud</a>, a tap event is a custom jQuery event that monitors touch
events (touchstart, touchmove, touchend) to determine when a user is actually
performing a tap. Here&#8217;s how to capture it:</p>

<pre><code>$("#hello").bind("tap", function (evt) {
    alert('hello!');
});
</code></pre>

<p>Above, we&#8217;re listening for a custom tap on the element with the ID &#8220;hello.&#8221; If
you log the <code>evt</code> object to the console, you&#8217;ll see all kinds of juicy info.</p>

<p>Since jQuery works on collections of elements, it&#8217;s very easy to listen for a
tap event on many things at once. For example, say you&#8217;ve got a list of
stooges:</p>

<pre><code>&lt;ul id="stooges"&gt;
    &lt;li id="larry"&gt;Larry Fine&lt;/li&gt;
    &lt;li id="curly"&gt;Curly Howard&lt;/li&gt;
    &lt;li id="moe"&gt;Moe Howard&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>You can bind a tap event to every item in the list:</p>

<pre><code>$("#stooges li").bind("tap", function (evt) {
    alert(this.id);
});
</code></pre>

<p>Inside the callback function, <code>this</code> refers to the DOM element that triggered
the event (because the function is bound to that element). So clicking on
&#8220;Larry Fine&#8221; would alert &#8220;larry&#8221;. In addition to storing information in the ID
attribute, you can hang all kinds of data on an element with HTML5
<a href="http://html5doctor.com/html5-custom-data-attributes/">data attributes</a>. For example:</p>

<pre><code>&lt;ul id="foods"&gt;
    &lt;li id="apple" data-food-type="fruit"&gt;Apple&lt;/li&gt;
    &lt;li id="banana" data-food-type="fruit"&gt;Banana&lt;/li&gt;
    &lt;li id="cucumber" data-food-type="veggie"&gt;Cucumber&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>Then you can inspect this data as needed.</p>

<p>Finally, it&#8217;s important to note that the <a href="http://api.jquery.com/bind/">bind</a> function works only on
elements that already exist in the DOM. Since you&#8217;ll be generating content
dynamically, you can use the live() function, which attaches event handlers to
the matched elements now or in the future. (In jQuery 1.7, the recommended
technique is to use <a href="http://api.jquery.com/on/">on</a>.)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/25/using-a-javascript-templating-system-in-app-cloud/">Using a JavaScript Templating System in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-25T17:24:00-05:00" pubdate data-updated="true">Jan 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In a typical web application, a web server is largely responsible for
compiling HTML code before sending it to the client. This can be done with
languages like PHP, Java and Ruby. But in an <a href="http://appcloud.brightcove.com">App Cloud</a> app, HTML is
compiled in the client with the help of JavaScript. For example, building up a
list of blog entries:</p>

<pre><code>var html = "&lt;ul&gt;";
for (var i = 0; i &lt; results.length; i++) {
    html += "&lt;li&gt;&lt;b&gt;" + results[i].title.toUpperCase() + ":&lt;/b&gt; "
         + results[i].desc + "&lt;/li&gt;";
}
html += "&lt;/ul&gt;";
</code></pre>

<p>This can get ugly fast. Enter JavaScript templating systems. A <em>templating
system</em> compiles HTML code for you—all it needs is a template (string) and some
context data (a JavaScript object). Here&#8217;s what a template might look like:</p>

<pre><code>&lt;ul&gt;
    {{articles}}
        &lt;li&gt;&lt;b&gt;{{title|upcase}}:&lt;/b&gt; {{desc}}&lt;/li&gt;
    {{/articles}}
&lt;/ul&gt;
</code></pre>

<p>Easier to read, right? And definitely easier to write!</p>

<p>There are plenty of JavaScript templating systems, including Mustache, jQuery
Templates, and <a href="https://github.com/adammark/Markup.js">Markup.js</a>, which I created with App Cloud in mind. The
above example is from Markup.js. So how do we actually populate a template
with context data?</p>

<pre><code>var context = {
    name: {
        first: "John",
        last: "Doe"
    }
};
var template = "Hi, !";
var markup = Mark.up(template, context); // "Hi, John!"
</code></pre>

<p>The resulting string can then be injected into your HTML document.</p>

<p>In an App Cloud app, the context data is likely to come from a content feed.
For example:</p>

<pre><code>bc.core.getData("blog",
    function (data) {
        var template = bc.templates["article-index"];
        var context = { articles: data };
        var markup = Mark.up(template, context);

        document.getElementById("blog-results").innerHTML = markup;
    },
    function (error) {
        bc.device.alert("Oops! " + error.errorMessage);
    }
);
</code></pre>

<p>Markup.js also supports control logic (if/else), loops, and &#8220;pipes&#8221; for
transforming variables. Check out the <a href="https://github.com/adammark/Markup.js">full documentation</a> on GitHub.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/12/video-and-apps-so-happy-together/">Video and Apps: So Happy Together</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-12T16:26:00-05:00" pubdate data-updated="true">Jan 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>What do macaroni and cheese, peanut butter and jelly, and franks and beans
have in common? Yes, they&#8217;re all delicious. But more importantly, in each case
<em>the whole is greater than the sum of its individual parts</em>. Peanut butter by
itself is delicious, but it&#8217;s made better with jelly. I feel the same way
about video and apps:</p>

<ul>
<li><p>Video breathes life into apps while apps provide a contextual framework for
discovering and delivering video.</p></li>
<li><p>Video depends on the entire app landscape (phones, tablets, web sites, and
smart TVs) for broad distribution. Likewise, the app landscape depends on
pluggable, reusable forms of content like video.</p></li>
<li><p>Video drives engagement and engagement drives app usage.</p></li>
</ul>


<p><img src="/images/blog/app-cloud-video-apps.jpg" alt="Video + Apps" /></p>

<p>Meanwhile, the <a href="http://www.mobilemarketer.com/cms/news/research/11340.html">growth of mobile video</a> is staggering. Apps that deliver
great video experiences to a broad array of devices and platforms stand to
benefit from this trend. And content owners stand to benefit from using
services that facilitate a multi-platform, multi-device approach.</p>

<p><a href="http://appcloud.brightcove.com">Brightcove App Cloud</a> makes it easy to create video-centric apps for iOS
and Android devices using content from Brightcove Video Cloud, YouTube, and
many other video services. It&#8217;s an end-to-end, cross-platform publishing
solution that includes an HTML5-based SDK plus cloud-based services for
optimizing and managing content. Here&#8217;s a quick look at how App Cloud content
feeds can be used to integrate videos into apps.</p>

<h2>App Cloud + Video Cloud</h2>

<p>App Cloud and Video Cloud are—surprise!—tightly integrated. From App Cloud
Studio, select &#8220;New Content Source,&#8221; then choose &#8220;Video Cloud,&#8221; then enter a
Video Cloud Read API token:</p>

<p><img src="/images/blog/app-cloud-video-connector.jpg" alt="Screen shot" /></p>

<p>Then it&#8217;s just a matter of selecting some playlists to send to the custom
application template. Here, I&#8217;ve selected two playlists from my Video Cloud
account:</p>

<p><img src="/images/blog/app-cloud-video-preview.jpg" alt="Screen shot" /></p>

<p>It&#8217;s that simple. I can reorder or swap out playlists at any time, even after
the app is deployed. My changes take effect without having to repackage and
resubmit the app to the various app stores—an invaluable feature considering
how often I change my mind! In content-driven apps, this kind of flexibility
is essential.</p>

<h2>App Cloud + YouTube</h2>

<p>App Cloud can also ingest data feeds (RSS, XML, JSON) from YouTube and other
video services. From App Cloud Studio, select &#8220;New Content Source,&#8221; then
choose &#8220;Content Feed,&#8221; then enter a feed URL:</p>

<p><img src="/images/blog/app-cloud-video-feed.jpg" alt="Screen shot" /></p>

<p>App Cloud optimizes the feed before sending it to devices. In some cases, the
savings are dramatic:</p>

<p><img src="/images/blog/app-cloud-video-optimize.png" alt="Screen shot" /></p>

<p><em>Every bit counts, especially in mobile apps!</em> By using App Cloud as a proxy,
I can speed up my apps tremendously.</p>

<h2>A match made in the cloud</h2>

<p>If video and apps are like peanut butter and jelly—a perfect food pairing—then
Video Cloud and App Cloud are a perfect collaboration of cloud content
services. One improves the other.</p>

<p>There&#8217;s another joke to be made here about how videos are sticky, but I should
quit while I&#8217;m ahead. <a href="https://register.brightcove.com/en/app-cloud">Try App Cloud today</a> and see how easy it is to
create video-centric native apps for iOS and Android. It&#8217;s free to get
started—all you need are some basic web development skills and a good app
idea. You can load videos from Video Cloud or almost any other video service.
And while you&#8217;re at it, check out some of the other App Cloud services like
image transcoding, analytics and ad insertion. (App Cloud is like jelly &#8230;
it&#8217;s pretty sweet!)</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/11/16/app-cloud-vs-phonegap/">App Cloud vs. PhoneGap: Which hybrid-native platform is right for you?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/15/opening-a-modal-email-window-in-app-cloud/">Opening a modal email window in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/20/monitoring-the-connection-state-in-app-cloud/">Monitoring the connection state in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/19/markup-dot-js-custom-pipes-for-your-piping-pleasure/">Markup.js: Custom pipes for your piping pleasure</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/15/app-cloud-and-kinvey-a-one-two-punch-for-content-centric/">App Cloud and Kinvey: A one-two punch for content-centric, data-driven apps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/24/getting-to-the-promised-land-of-cross-platform/">Getting to the promised land of cross-platform, device-independent displays</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/06/launching-external-apps-in-app-cloud/">Launching external apps in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/03/inside-the-app-cloud-workshop/">Inside the App Cloud Workshop: Understanding your apps in development mode</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/03/a-font-of-icons-for-your-app-cloud-app/">A font of icons for your App Cloud app</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/30/digging-deeper-into-app-cloud-data-feeds/">Digging deeper into App Cloud data feeds</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Adam Mark -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
