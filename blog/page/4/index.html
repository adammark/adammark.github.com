
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Adam Mark</title>
  <meta name="author" content="Adam Mark">

  
  <meta name="description" content="What do macaroni and cheese, peanut butter and jelly, and franks and beans
have in common? Yes, they&#8217;re all delicious. But more importantly, in &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.adammark.net/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Adam Mark" type="application/atom+xml">
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic" rel="stylesheet" type="text/css">
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adam Mark</a></h1>
  
    <h2>Web design and development</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.adammark.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/work">My Work</a></li>
  <li><a href="/about">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/12/video-and-apps-so-happy-together/">Video and Apps: So Happy Together</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-12T16:26:00-05:00" pubdate data-updated="true">Jan 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>What do macaroni and cheese, peanut butter and jelly, and franks and beans
have in common? Yes, they&#8217;re all delicious. But more importantly, in each case
<em>the whole is greater than the sum of its individual parts</em>. Peanut butter by
itself is delicious, but it&#8217;s made better with jelly. I feel the same way
about video and apps:</p>

<ul>
<li><p>Video breathes life into apps while apps provide a contextual framework for
discovering and delivering video.</p></li>
<li><p>Video depends on the entire app landscape (phones, tablets, web sites, and
smart TVs) for broad distribution. Likewise, the app landscape depends on
pluggable, reusable forms of content like video.</p></li>
<li><p>Video drives engagement and engagement drives app usage.</p></li>
</ul>


<p><img src="/images/blog/app-cloud-video-apps.jpg" alt="Video + Apps" /></p>

<p>Meanwhile, the <a href="http://www.mobilemarketer.com/cms/news/research/11340.html">growth of mobile video</a> is staggering. Apps that deliver
great video experiences to a broad array of devices and platforms stand to
benefit from this trend. And content owners stand to benefit from using
services that facilitate a multi-platform, multi-device approach.</p>

<p><a href="http://appcloud.brightcove.com">Brightcove App Cloud</a> makes it easy to create video-centric apps for iOS
and Android devices using content from Brightcove Video Cloud, YouTube, and
many other video services. It&#8217;s an end-to-end, cross-platform publishing
solution that includes an HTML5-based SDK plus cloud-based services for
optimizing and managing content. Here&#8217;s a quick look at how App Cloud content
feeds can be used to integrate videos into apps.</p>

<h2>App Cloud + Video Cloud</h2>

<p>App Cloud and Video Cloud are—surprise!—tightly integrated. From App Cloud
Studio, select &#8220;New Content Source,&#8221; then choose &#8220;Video Cloud,&#8221; then enter a
Video Cloud Read API token:</p>

<p><img src="/images/blog/app-cloud-video-connector.jpg" alt="Screen shot" /></p>

<p>Then it&#8217;s just a matter of selecting some playlists to send to the custom
application template. Here, I&#8217;ve selected two playlists from my Video Cloud
account:</p>

<p><img src="/images/blog/app-cloud-video-preview.jpg" alt="Screen shot" /></p>

<p>It&#8217;s that simple. I can reorder or swap out playlists at any time, even after
the app is deployed. My changes take effect without having to repackage and
resubmit the app to the various app stores—an invaluable feature considering
how often I change my mind! In content-driven apps, this kind of flexibility
is essential.</p>

<h2>App Cloud + YouTube</h2>

<p>App Cloud can also ingest data feeds (RSS, XML, JSON) from YouTube and other
video services. From App Cloud Studio, select &#8220;New Content Source,&#8221; then
choose &#8220;Content Feed,&#8221; then enter a feed URL:</p>

<p><img src="/images/blog/app-cloud-video-feed.jpg" alt="Screen shot" /></p>

<p>App Cloud optimizes the feed before sending it to devices. In some cases, the
savings are dramatic:</p>

<p><img src="/images/blog/app-cloud-video-optimize.png" alt="Screen shot" /></p>

<p><em>Every bit counts, especially in mobile apps!</em> By using App Cloud as a proxy,
I can speed up my apps tremendously.</p>

<h2>A match made in the cloud</h2>

<p>If video and apps are like peanut butter and jelly—a perfect food pairing—then
Video Cloud and App Cloud are a perfect collaboration of cloud content
services. One improves the other.</p>

<p>There&#8217;s another joke to be made here about how videos are sticky, but I should
quit while I&#8217;m ahead. <a href="https://register.brightcove.com/en/app-cloud">Try App Cloud today</a> and see how easy it is to
create video-centric native apps for iOS and Android. It&#8217;s free to get
started—all you need are some basic web development skills and a good app
idea. You can load videos from Video Cloud or almost any other video service.
And while you&#8217;re at it, check out some of the other App Cloud services like
image transcoding, analytics and ad insertion. (App Cloud is like jelly &#8230;
it&#8217;s pretty sweet!)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/12/05/the-pursuit-of-appiness/">The Pursuit of Appiness: Building Native Apps With App Cloud and HTML5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-05T16:41:00-05:00" pubdate data-updated="true">Dec 5<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a web developer and designer for thirteen years, I&#8217;ve jockeyed from one hot
technology to another with relative ease. First Java, then PHP, then Ruby. I
rode the Flash train for a long time. I kept up with every major UI library,
from Prototype to jQuery, and kept pace with rapidly evolving web standards.</p>

<p>But like many web developers, I missed the boat on mobile. I had no experience
with low-level programming languages like C++ or Objective-C, nor did I have
time to learn them. And the thought of making <em>small</em> apps with Java—a language
that always seemed big and bulky to me—was unappealing.</p>

<p>I looked at a number of products for cross-platform development, but every one
fell short of my expectations:</p>

<ul>
<li><p>App &#8220;factories&#8221; that wrap RSS feeds in prefab templates tend to produce low-
budget or cookie-cutter apps.</p></li>
<li><p>Frameworks that convert JavaScript or ActionScript into native code require
complex toolchains to create and compile the apps.</p></li>
<li><p>Frameworks that wrap web pages in native shells provide little or no back-end
infrastructure necessary to operate data-driven apps in production.</p></li>
</ul>


<p>So when I learned about <a href="http://appcloud.brightcove.com">App Cloud</a>, a framework for creating native mobile
apps with HTML, CSS and JavaScript, I was skeptical. Would App Cloud be
different from the other products I tried? Would it live up to its many
promises? I set out to make a real app and learned the answer is a resounding
YES. Here&#8217;s why:</p>

<h2>App Cloud speaks my language</h2>

<p>App Cloud draws on all my skills as a web developer: HTML to structure
content, CSS to style it, and JavaScript to manipulate it. I don&#8217;t have to
learn new languages to create rich, content-driven apps. After all, web
technologies have always excelled in this area. Compare the complexity of
<a href="http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/TableView_iPhone/CreateConfigureTableView/CreateConfigureTableView.html">creating a table view in iOS</a> to the simplicity of creating a list of
things in HTML. (There is no comparison.)</p>

<p><img src="/images/blog/app-cloud-appiness-html5.png" alt="" /></p>

<p>Plus, I can use almost any JavaScript libraries I want on top of the App Cloud
SDK. After many years of web development, I came to App Cloud with a big bag
of tricks that I didn&#8217;t want to throw away.</p>

<h2>It’s my way or the highway</h2>

<p>When I write code, I alternate between using <a href="http://www.sublimetext.com/2">Sublime Text</a> and vim. So
when I jumped into App Cloud, I was relieved to find that I could use my
trusty tools. And since App Cloud uses standard web technologies, I can use
<a href="http://code.google.com/chrome/devtools/">Chrome Developer Tools</a> to inspect and debug my code on the desktop.</p>

<p>While some other systems ride the coattails of XCode or Eclipse—a bulky and
maddeningly complex Java-based IDE—App Cloud gives me freedom of choice.</p>

<h2>The Workshop—it’s refreshing!</h2>

<p>The App Cloud <a href="http://bit.ly/iworkshop">Workshop app</a> for iOS and Android lets me test and
experience my apps as I develop them. I change some code, click &#8220;Refresh,&#8221; and
see the results immediately. As a web developer, I rely on this kind of rapid
iteration. <em>Code, refresh, repeat.</em></p>

<p><img src="/images/blog/app-cloud-appiness-workshop.jpg" alt="" /></p>

<p>While much of my work can be tested in a desktop web browser, there&#8217;s no
substitute for actually experiencing the app running on real devices. The
Workshop app makes this process a snap.</p>

<h2>There’s an API for that</h2>

<p>App Cloud provides a ridiculously simple JavaScript bridge to native device
capabilities like the camera and photo library—things that aren&#8217;t possible in
a regular mobile web site. Here&#8217;s how to access the camera to scan a QR code:</p>

<pre><code>bc.device.getQRCode(successCallback, errorCallback);
</code></pre>

<p>That was easy! And it works across iOS and Android, tablet and phone. I don&#8217;t
need to worry about the underlying characteristics of each platform or device
form factor. It just works.</p>

<h2>App Cloud Studio: Compile in style</h2>

<p>I recently <a href="http://developer.android.com/sdk/installing.html">installed the Android developer tools</a> to compile an app I made in
another framework, an exercise not unlike building an IKEA bookshelf. The
directions were incomprehensible, it took half a day, and the results were a
bit rickety.</p>

<p>With App Cloud Studio, my apps are compiled in the cloud with the touch of a
button (okay, a few buttons). In just a few minutes, the compiled apps are
ready for download, at which point I can submit them to the various app
stores. Absolutely no special tooling is required on my end.</p>

<p><img src="/images/blog/app-cloud-appiness-download.jpg" alt="" /></p>

<h2>Content optimization: Less is more</h2>

<p>In content-driven apps—and especially in content-driven mobile apps—the
biggest bottleneck is the content itself. App Cloud speeds up my apps in a
couple important ways:</p>

<ul>
<li><p>App Cloud removes unnecessary and unwanted data from my content feeds. Then it
compresses them, caches them, and makes them highly available to thousands of
devices. My blog feed went from 39KB to 4KB after optimization and
compression, a 90% reduction!</p></li>
<li><p>App Cloud resizes and caches images <em>on the fly</em>. The cumulative effects of
image transcoding cannot be overstated: one of my blog images was reduced from
125KB at 425px wide to 8KB at 200px wide, a 94% reduction! Multiply this by
the number of images in my blog, the number of users, and the number of
sessions per user. We&#8217;re talking big, big savings.</p></li>
</ul>


<p><img src="/images/blog/app-cloud-appiness-transcode.jpg" alt="" /></p>

<p>Studies have shown that <a href="http://blog.kissmetrics.com/loading-time/?wide=1">load time affects the bottom line</a>. With App
Cloud, it&#8217;s one less thing I have to worry about.</p>

<h2>Set and forget? Not with App Cloud</h2>

<p>Do you remember the Showtime Rotisserie Oven? You <a href="http://www.youtube.com/watch?v=O5s1jY1Nwl4&amp;t=81"><em>set it and forget it!</em></a>
If only apps were this simple. Content-driven apps, like web sites, often
require configuration changes after being deployed. With App Cloud Studio, I
can change data, styles and other custom settings after an app has been
deployed and without recompiling and resubmitting the app to the various app
stores.</p>

<p><img src="/images/blog/app-cloud-appiness-config.jpg" alt="" /></p>

<p>This not only gives me a ton of flexibility as a developer, it empowers others
in the organization to help manage the apps I create.</p>

<p>What&#8217;s more, the ability to change data, settings and styles in App Cloud
Studio means I can create <em>multiple apps from a single template</em> without
writing any additional code. I didn&#8217;t fully appreciate this power until I made
two very distinct apps from the same template:</p>

<p><img src="/images/blog/app-cloud-appiness-template.jpg" alt="" /></p>

<p>All I did was swap out data feeds and adjust a few settings. The design and
configuration options were entirely up to me.</p>

<h2>Sharing is caring</h2>

<p>While App Cloud doesn&#8217;t solve the problem of hovering art directors, it does
make it easier for colleagues to review my work in the comfort of their own
offices. For example, I can send screenshots directly from the Workshop app:</p>

<p><img src="/images/blog/app-cloud-appiness-capture.jpg" alt="" /></p>

<p>Or I can share an entire template with anyone who has the Workshop app just by
sending them a URL or QR code:</p>

<p><img src="/images/blog/app-cloud-appiness-scan.jpg" alt="" /></p>

<h2>100% Cloud coverage</h2>

<p>App Cloud is a one-stop shop for nearly everything I need to manage and
monetize my content apps in production, from native ad insertion to real-time
analytics. For example, in the Analytics section, I can see how my apps are
performing in the wild, from total installs to total usage time:</p>

<p><img src="/images/blog/app-cloud-appiness-analytics.jpg" alt="" /></p>

<p>And because App Cloud is service-oriented and all-inclusive, I get performance
enhancements and feature updates for free. I&#8217;m excited for what&#8217;s to come:
push notifications, in-app purchases, Facebook integration, additional
platform support, and more.</p>

<p>If you&#8217;re still reading, you&#8217;re probably interested in trying App Cloud for
yourself. Just <a href="http://register.brightcove.com/app-cloud">register for a free account</a> and download the SDK from
App Cloud Studio.</p>

<p>Happy (er, &#8220;appy&#8221;) developing!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/17/lazy-loading-your-views-in-app-cloud/">Lazy Loading Your Views in App Cloud</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-17T16:12:00-05:00" pubdate data-updated="true">Nov 17<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>&#8220;Lazy loading&#8221; doesn&#8217;t mean you&#8217;re lazy. It&#8217;s simply a technique for deferring
an operation until it&#8217;s absolutely necessary.</p>

<p>If your template has multiple views, you should consider building up each view
when the user enters it—and not before. You&#8217;ll save memory and improve the
performance of your app by preventing all your business logic across all your
views from running at the same time.</p>

<p>In the following example from my &#8220;Map&#8221; view (map.html), the function <code>MapView</code>
is responsible for loading and rendering the dynamic content on the page:</p>

<pre><code>var view;

$(bc).on("viewfocus", function (evt) {
    if (!view) {
        view = new MapView();
        view.init();
    }
});
</code></pre>

<p>By listening for a <code>"viewfocus"</code> event, I can wait to create a MapView
instance until the moment the user enters the view. This way, I avoid eating
up system resources—and slowing down the user experience—while the user is off
playing in another view.</p>

<p>(And while the new content is loading, I show cached content alongside a &#8220;Loading &#8230;&#8221;
message.)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/02/more-javascript-tricks-to-impress-your-friends/">More JavaScript Tricks to Impress Your Friends</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-02T18:00:00-04:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>And now for another installment of cool but unreadable JavaScript techniques!</p>

<h3>Repeating a string</h3>

<p>Use the Array constructor to repeat a string. For example, to create the
string “**********”:</p>

<pre><code>// old way
var str = "";
for (var i = 0; i &lt; 10; i++) {
    str += "*";
}

// ninja way
var str = Array(11).join("*");
</code></pre>

<p>In the ninja example above, an array with 11 empty values (&#8220;&#8221;) is joined by
“*”. (Thanks to <a href="http://bonsaiden.github.com/JavaScript-Garden">JavaScript Garden</a>.)</p>

<h3>Casting function arguments to an array</h3>

<p>Sometimes you need to treat function arguments as an array:</p>

<pre><code>// old way
function func(a, b, c) {
    var arr = [];
    for (var i in arguments) {
        arr.push(arguments[i]);
    }
}

// ninja way
function func(a, b, c) {
    var arr = [].slice.call(arguments);
}
</code></pre>

<p>Calling <code>Array.prototype.slice</code>, or <code>[].slice</code> on the arguments object returns
an array of arguments. Now you can pass it around or slice and dice it.</p>

<h3>Testing for even or odd</h3>

<p>In my <a href="/blog/2011/04/06/understanding-bitwise-operations-in-javascript/">tutorial on bitwise operations</a>, I explained how to use a bitwise
AND to test if a number is even or odd:</p>

<pre><code>// old way
if (i % 2 == 0) { … }

// ninja way
if (i &amp; 1 == 0) { … }
</code></pre>

<p>In binary, an even number AND 1 is always 0 (even); an odd number AND 1 is
always 1 (odd).</p>

<h3>Testing minimum length of a list</h3>

<p>Sometimes (or never) you need to know whether a list is at least a certain
length:</p>

<pre><code>var list = ["a", "b", "c"];

// old way
if (list.length &gt;= 3) { … }

// ninja way
if (2 in list) { … }
</code></pre>

<p>Wait, what? Imagine the above array as an object literal:</p>

<pre><code>var list = {
    0: "a",
    1: "b",
    2: "c"
};
</code></pre>

<p>Now it makes sense!</p>

<h3>Creating a function on the fly</h3>

<p>We’ve been told over and over again that eval is evil. If you believe this,
the following technique is just as bad:</p>

<pre><code>// old way
var rand = eval("var rand = function () { return Math.random() }");

// ninja way
var rand = new Function("return Math.random()");
</code></pre>

<p>Notice we’re using the Function constructor with a capital F.</p>

<h3>Casting a number literal to a string</h3>

<p>When calling toString on a number literal, the number must be wrapped in
parentheses so the JavaScript parser doesn’t interpret the dot as part of a
floating point number. But there are two ways around this major inconvenience
(also thanks to <a href="http://bonsaiden.github.com/JavaScript-Garden">JavaScript Garden</a>):</p>

<pre><code>// old way
(123).toString();

// ninja way
123..toString(); // extra dot!
123 .toString(); // space!
</code></pre>

<h3>Entering the void</h3>

<p>Who needs <em>undefined</em>? Avoid it with <em>void</em>:</p>

<pre><code>// old way
var val = undefined;

// ninja way
var val = void 0;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/24/introducing-markup-dot-js-powerful-javascript-templates/">Introducing Markup.js: Powerful JavaScript Templates</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-24T16:01:00-04:00" pubdate data-updated="true">Aug 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When I started making <a href="http://appcloud.brightcove.com">App Cloud</a> apps, I thought I could benefit from
using a JavaScript templating system. So I toyed around with two popular
frameworks, <a href="https://github.com/adammark/Markup.js">Mustache</a> and <a href="https://github.com/adammark/Markup.js">jQuery Templates</a>. Unfortunately I didn&#8217;t
like either. I found Mustache to be too simplistic (it prides itself on being
<em>logicless</em>), while jQuery Templates required me to use jQuery.</p>

<p>So I decided to write my own templating system with the following goals:</p>

<ul>
<li>It should have an elegant syntax with minimal punctuation</li>
<li>It should be fast and lightweight</li>
<li>It should have no library dependencies</li>
<li>It should not require a browser or DOM</li>
<li>It should be flexible enough to support internationalization (i18n) tasks</li>
</ul>


<p>The result: <a href="https://github.com/adammark/Markup.js">Markup.js</a>. Weighing in at only 1.7KB after minification and
gzipping, it includes a simple yet powerful expression language for
transforming structured data into HTML and other text formats. So far, I&#8217;m
loving it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/11/javascript-tricks-to-impress-your-friends/">JavaScript Tricks to Impress Your Friends</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-11T17:56:00-04:00" pubdate data-updated="true">Aug 11<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently came across some mind-bending JavaScript shortcuts in a web project
I inherited from another developer. Most of these techniques are bad from a
readability perspective—and none of them offer significant performance
gains—but you should feel free to discuss them at cocktail parties to impress
your friends.</p>

<h3>Casting a string to a number</h3>

<p>Use the unary plus operator to cast a string to a number:</p>

<pre><code>// old way
parseInt("123", 10); // 123
parseFloat("45.678"); // 45.689
Number("9"); // 9

// ninja way
+"123.45"; // 123.45
</code></pre>

<p>Note parseInt() and parseFloat() are actually more versatile:</p>

<pre><code>parseInt("123px", 10); // 123
+"123px"; // NaN

parseFloat("45.678deg"); // 45.678
+"45.678deg"; // NaN
</code></pre>

<h3>Convert a date to UTC milliseconds</h3>

<p>Use the unary plus operator to cast a Date object to milliseconds since the Unix epoch:</p>

<pre><code>var date = new Date(); // Thu Aug 11 2011 10:47:37 GMT-0400 (EDT)

// old way
date.getTime(); // 1313074057920
date.valueOf(); // 1313074057920

// ninja way
+date; // 1313074057920
</code></pre>

<h3>Testing for a substring with bitwise NOT</h3>

<p>Use the bitwise NOT operator to test for the presence of a substring:</p>

<pre><code>// old way
"Hahaha".indexOf("ha") &gt; -1; // true

// ninja way
~"Hahaha".indexOf("ha"); // true
</code></pre>

<p>Wait, what? The bitwise NOT (or complement) of a signed integer is equal to
the negative of that number minus 1:</p>

<pre><code>~2 = -3; // resolves to true
~0 = -1; // also true
~-1 = 0; // false
</code></pre>

<p>This is kind of nuts, but it does save you from typing about four extra
characters.</p>

<h3>Testing for the presence of a value</h3>

<p>Use a double NOT (or &#8220;bang bang&#8221;) to test if a variable value is not null, not
undefined and not an empty string:</p>

<pre><code>var name = "Adam";

// old way
name != null &amp;&amp; name != undefined &amp;&amp; name != ""; // true

// ninja way
!!name; // true
</code></pre>

<p>The first bang casts the value to a Boolean and the second bang negates it. In
the ninja example above, the expression resolves to !false, or true.</p>

<h3>Preempting a function call</h3>

<p>Create a boolean expression to avoid calling a function if the function value
is undefined:</p>

<pre><code>// old way
var handleResponse = function (data, callback) {
    if (callback) {
        callback(data);
    }
}

// ninja way
var handleResponse = function (data, callback) {
    callback &amp;&amp; callback(data);
}
</code></pre>

<p>In the ninja example above, if the the first half of the Boolean test is false or undefined, the second half is never evaluated.</p>

<h3>Chaining function calls</h3>

<p>Variables are for suckers! If one function returns another, you can just
execute the returned function right away:</p>

<pre><code>var stack = [function1, function2, function3];

// old way
var func = stack.pop();
func();

// ninja way
stack.pop()();
</code></pre>

<h3>Concatenating strings</h3>

<p>The plus sign: also for suckers. Use an array to join string fragments:</p>

<pre><code>// old way
var name = "A" + "d" + "a" + "m";

// ninja way
var name = ["A", "d", "a", "m"].join("");
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/06/understanding-bitwise-operations-in-javascript/">Understanding Bitwise Operations in JavaScript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-06T23:20:00-04:00" pubdate data-updated="true">Apr 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve been reading <a href="http://amzn.com/0735611319">Code: The Hidden Language of Computer Hardware and Software</a>
by Charles Petzold. It’s a great introduction to the building blocks of
computer science—<em>ones and zeros</em>—for the liberal arts majors among us.
Check it out and you’ll understand this joke:</p>

<blockquote><p>There are only 10 kinds of people in the world: Those who understand binary
and those who don’t.</p></blockquote>

<p>When you’re done ROFLing, consider some of the ways you can use bitwise
operations in everyday JavaScript code:</p>

<h2>Use a bitmask to check for inclusion in a set</h2>

<p>Say you’ve got a bowl of five different fruits and you want to know if it
contains a banana. You could simply check every piece of fruit in the bowl to
see if it’s a banana:</p>

<pre><code>function contains(bowl, fruit) {
    for (var i = 0; i &lt; bowl.length; i++) {
        if (bowl[i] == fruit) {
            return true;
        }
    }

    return false;
}

// has banana? yes
contains(["apple", "banana", "cherry"], “banana”);
</code></pre>

<p>Or you could use <code>Array.indexOf</code> to get the same result:</p>

<pre><code>function contains(bowl, fruit) {
    return bowl.indexOf(fruit) &gt; -1;
}

// has banana? yes
contains(["apple", "banana", "cherry"], “banana”);

// has banana? no
contains(["apple", "grape", "cherry"], “banana”);
</code></pre>

<p>But what if you want to know whether the bowl contains a banana, a cherry and
an apple?</p>

<pre><code>var bowl = ["apple", "banana", "cherry", "grape", "peach"];

// has banana, cherry and apple? yes
contains(bowl, “banana”) &amp;&amp; contains(bowl, “cherry”) &amp;&amp; contains(bowl, “apple”);
</code></pre>

<p>This gets ugly fast. You could, of course, modify the <code>contains</code> function to
accept an array of fruits:</p>

<pre><code>function contains(bowl, fruits) {
    for (var i = 0; i &lt; fruits.length; i++) {
        if (bowl.indexOf(fruits[i]) == -1) {
            return false;
        }
    }

    return true;
}

var bowl = ["strawberry", "grape", "peach", "orange"];

var fruits = ["banana", "cherry", "apple"];

// has banana, cherry and apple? no
contains(bowl, fruits);
</code></pre>

<p>That’s better, but let’s try doing it without arrays and loops. Enter
bitmasks! First, assign each possible option a value of 2 to the power of n,
starting with n=0:</p>

<pre><code>var Fruit = {
    BANANA:       1,
    ORANGE:       2,
    STRAWBERRY:   4,
    PEACH:        8,
    APPLE:       16,
    GRAPE:       32,
    CHERRY:      64,
    TANGERINE:  128
};
</code></pre>

<p>Each decimal value converts to a binary sequence that contains exactly one
“1.” For example, ORANGE equals 10 and STRAWBERRY equals 100. Together they
equal 110:</p>

<pre><code>   010
OR 100
   —
   110
</code></pre>

<p>You can quickly calculate the sum of the bowl using a bitwise OR expression.
Say the bowl has a banana, a peach and a tangerine:</p>

<pre><code>var bowl = Fruit.BANANA | Fruit.PEACH | Fruit.TANGERINE;
</code></pre>

<p>This bowl equals 137 in decimal or 10001001 in binary. Notice the number of
ones in the result equals the number of fruits in the bowl:</p>

<pre><code>   00000001  BANANA
OR 00001000  PEACH
OR 10000000  TANGERINE
   ——–
   10001001
</code></pre>

<p>Now you can represent any configuration of eight fruits in just eight digits!</p>

<p>The resulting value, 10001001, will serve as a bitmask to determine whether
the bowl contains certain fruits. Testing for the presence of a single fruit
is straightforward with a bitwise AND:</p>

<pre><code>    10001001  BOWL
AND 00000001  BANANA
    ——–
    00000001  TRUE

    10001001  BOWL
AND 00000010  ORANGE
    ——–
    00000000  FALSE
</code></pre>

<p>Now just check to see if bowl AND fruit is greater than zero:</p>

<pre><code>function contains(bowl, fruit) {
    return (bowl &amp; fruit) &gt; 0;
}

var bowl = Fruit.BANANA | Fruit.PEACH | Fruit.TANGERINE;

// has banana? yes
contains(bowl, Fruit.BANANA);
</code></pre>

<p>Testing for the presence of multiple fruits is a bit trickier but just as
elegant. Since the ANDed value can be positive if just some of the fruits are
present, you need to make sure the ANDed value is greater than or equal to the
value of fruits itself:</p>

<pre><code>function contains(bowl, fruits) {
    return (bowl &amp; fruits) &gt;= fruits;
}

var bowl = Fruit.BANANA | Fruit.PEACH | Fruit.TANGERINE;

// has banana and tangerine? yes
contains(bowl, Fruit.BANANA | Fruit.TANGERINE);

// has banana and apple? no
contains(bowl, Fruit.BANANA | Fruit.APPLE);
</code></pre>

<p>See how the bitmask method performs against the array method at <a href="http://jsperf.com/array-search-vs-bitmask-search">jsperf.com</a>.</p>

<h2>Use bitwise AND for alternation</h2>

<p>You’ve probably used a <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Arithmetic_Operators#.25_.28Modulus.29">modulus</a> to test whether the value of a counter
is odd or even:</p>

<pre><code>for (var i = 0; i &lt; 10000; i++) {
    if (i % 2 == 0) {
        // even
    }
    else {
        // odd
    }
}
</code></pre>

<p>But in big loops it’s faster to use a binary AND expression. In binary, an
even number AND 1 is always 0 (even), while an odd number AND 1 is always 1
(odd):</p>

<pre><code>for (var i = 0; i &lt; 10000; i++) {
    if (i &amp; 1 == 0) {
        // even
    }
    else {
        // odd
    }
}
</code></pre>

<h2>Use bitwise shifting to convert hexadecimal values</h2>

<p>Did you ever wonder what “hex” (base 16) color values look like in another
number system? Take the value of pure red: FF0000. In decimal (base 10) it’s
16711680 and in binary (base 2) it’s 111111110000000000000000. Try it for
yourself in a JavaScript console:</p>

<pre><code>0xFF0000.toString(10);
0xFF0000.toString(2);
</code></pre>

<p>Now let’s say you want to convert the hex value to RGB, in which R, G and B
are values ranging from 0 to 255:</p>

<pre><code>function hexToRGB(hex) {
    var r = (hex &amp; 0xFF0000) &gt;&gt; 16;
    var g = (hex &amp; 0x00FF00) &gt;&gt; 8;
    var b = (hex &amp; 0x0000FF);
    return [r,g,b];
}
</code></pre>

<p>Here, the inputted value is being ANDed with the values of pure red, green and
blue, then the red and green values are shifted to the right by 16 bits and 8
bits, respectively. The result is three 8-bit values, or 0-255 in decimal.</p>

<p>Take the color gold: 0xFFCC00. What are the individual RGB values?</p>

<pre><code>// returns [255, 204, 0]
var rgb = hexToRGB(0xFFCC00);
</code></pre>

<p>And it works the other way around. For example, to create a hex string from
red, blue and green values:</p>

<pre><code>function rgbToHexString(r, g, b) {
    var color = (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;
    return “#” + (“000000″ + color.toString(16)).substr(-6);
}

// returns “#ffcc00″
rgbToHexString(255, 204, 0);
</code></pre>

<p>As you can see, binary operations are useful for everyday JavaScript
programming tasks. And they’re super fast!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/19/html5-in-a-flash/">HTML5 in a Flash!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-19T13:24:00-04:00" pubdate data-updated="true">Mar 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/blog/wordico-flash.jpg" alt="Wireframe" /></p>

<p>I’m happy to announce the publication of my first tutorial on HTML5Rocks.com:
<a href="http://www.html5rocks.com/tutorials/casestudies/wordico.html">Converting Wordico from Flash to HTML5</a>. You’ll laugh, you’ll cry, but
most of all you’ll see what’s involved in migrating a Flash app to HTML5 with
the help of <a href="https://developers.google.com/web-toolkit/">GWT</a> and lots of coffee. While you’re on the site, check out
how <a href="http://www.html5rocks.com/tutorials/casestudies/entanglement.html">Entanglement</a> and <a href="http://www.html5rocks.com/en/tutorials/casestudies/onslaught/">Onslaught Arena!</a> were made.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/10/introducing-chartlets-tiny-charts-for-tablet-and-mobile-web-apps/">Introducing Chartlets: Tiny charts for tablet and mobile web apps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/16/app-cloud-vs-phonegap/">App Cloud vs. PhoneGap: Which hybrid-native platform is right for you?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/15/opening-a-modal-email-window-in-app-cloud/">Opening a modal email window in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/20/monitoring-the-connection-state-in-app-cloud/">Monitoring the connection state in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/19/markup-dot-js-custom-pipes-for-your-piping-pleasure/">Markup.js: Custom pipes for your piping pleasure</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/15/app-cloud-and-kinvey-a-one-two-punch-for-content-centric/">App Cloud and Kinvey: A one-two punch for content-centric, data-driven apps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/24/getting-to-the-promised-land-of-cross-platform/">Getting to the promised land of cross-platform, device-independent displays</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/06/launching-external-apps-in-app-cloud/">Launching external apps in App Cloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/03/inside-the-app-cloud-workshop/">Inside the App Cloud Workshop: Understanding your apps in development mode</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/03/a-font-of-icons-for-your-app-cloud-app/">A font of icons for your App Cloud app</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Adam Mark -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
